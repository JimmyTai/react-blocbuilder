(this["webpackJsonpreact-blocbuilder-example"]=this["webpackJsonpreact-blocbuilder-example"]||[]).push([[0],{14:function(t,e,n){t.exports=n(21)},15:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);n(15);var r=n(0),s=n.n(r),i=n(12),o=n.n(i),a=n(9),c=n.n(a),u=n(13),l=n(4),f=n(23),p=n(10);class h{constructor(){this._disposables=new l.a,this.list=new f.a([])}dispose(){this._disposables.unsubscribe()}getData(){const t=p.a.create(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((t,e)=>{setTimeout(()=>t(),2e3)});case 3:e.next(["data_01","data_02"]),e.complete(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()).subscribe({next:t=>{this.list.next(t)},error:t=>{}});this._disposables.add(t)}}var b=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}();function d(t){return null!==t&&"object"===typeof t}var v=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),m=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i){n[i].remove(this)}if("function"===typeof r)try{r.call(this)}catch(c){e=c instanceof v?_(c.errors):[c]}if(b(s)){i=-1;for(var o=s.length;++i<o;){var a=s[i];if(d(a))try{a.unsubscribe()}catch(c){e=e||[],c instanceof v?e=e.concat(_(c.errors)):e.push(c)}}}if(e)throw new v(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var s=n._parentOrParents;if(null===s)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function _(t){return t.reduce((function(t,e){return t.concat(e instanceof v?e.errors:e)}),[])}var w=function(t){var e=Object(r.useState)({snapshot:{data:t.initialValue,connectionState:-1,error:void 0}}),n=e[0],s=e[1];return Object(r.useEffect)((function(){var e=new m,n=t.subject.subscribe({next:function(t){s({snapshot:{data:t,connectionState:0,error:void 0}})},error:function(e){s({snapshot:{data:t.initialValue,connectionState:1,error:e}})},complete:function(){s({snapshot:{data:t.initialValue,connectionState:1,error:void 0}})}});return e.add(n),function(){e.unsubscribe()}}),[t]),t.builder(n.snapshot)};var y=()=>{const t=Object(r.useRef)(new h);return Object(r.useEffect)(()=>{const e=t.current;return()=>{e.dispose()}},[]),s.a.createElement("div",{style:{margin:"20px 20px"}},s.a.createElement("h1",null,"BlocBuilder Demo"),s.a.createElement(w,{initialValue:t.current.list.getValue(),subject:t.current.list,builder:t=>s.a.createElement("p",null,JSON.stringify(t.data))}),s.a.createElement("button",{onClick:()=>t.current.getData()},"Get Data"),s.a.createElement("button",{onClick:()=>t.current.list.next([])},"Clear Data"))};o.a.render(s.a.createElement(y,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.64a9e931.chunk.js.map